[run]
branch = True
source = src
omit =
    # Integration/entry point code - not unit tested
    src/server.py
    # Utility modules that are difficult to unit test
    src/tools/workspace.py
    src/tools/session_cache.py
    # GitHub/Git integration modules - only testable via integration tests
    src/tools/cross_repository.py
    src/tools/pr_operations.py
    src/tools/branch_management.py
    # Write operations - complex file I/O, mostly integration
    src/tools/write_operations.py
    # Extraction/parsing modules with limited test coverage
    src/tools/extractors/typescript_extractor.py
    src/tools/extractors/example_extractor.py
    src/tools/extractors/failure_mode_extractor.py
    src/tools/extractors/csharp_extractor.py
    # Specialized documentation/section utilities
    src/tools/section_updater.py
    src/tools/documentation.py
    src/tools/config_utils.py
    src/tools/code_analyzer.py
    src/tools/config.py
    src/tools/template_renderer.py
    src/tools/file_writer.py
    # Resources module - just reads bundled files
    src/resources/*.py

[report]
# Require 80% coverage on remaining testable code
precision = 2
show_missing = True
skip_covered = False
exclude_lines =
    # Have to re-enable the standard pragma
    pragma: no cover
    # Don't complain about missing debug-only code
    def __repr__
    if self\.debug
    # Don't complain if tests don't hit optional imports
    except ImportError
    # Don't complain about abstract methods
    @(abc\.)?abstractmethod
    # Ignore conditional assertions for type checking
    if TYPE_CHECKING:
    # Ignore mock-only code
    MagicMock

{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://akr.emerson.com/schemas/akr-config.json",
    "title": "AKR Project Configuration",
    "description": "Configuration schema for AKR documentation generation in a project",
    "type": "object",
    "properties": {
        "projectName": {
            "type": "string",
            "description": "Human-readable name of the project",
            "examples": ["MyApp", "UserService", "InventoryManagement"]
        },
        "projectType": {
            "type": "string",
            "enum": ["backend", "ui", "database", "fullstack", "library", "api"],
            "description": "Primary type of the project, determines default charter and templates",
            "default": "backend"
        },
        "documentation": {
            "type": "object",
            "description": "Documentation output settings",
            "properties": {
                "outputStrategy": {
                    "type": "string",
                    "enum": ["co-located", "docs-folder", "custom"],
                    "description": "Where to save generated documentation files",
                    "default": "docs-folder",
                    "examples": [
                        "co-located: Save .md next to source file",
                        "docs-folder: Save in docs/ folder mirroring source structure",
                        "custom: Use outputPath as-is without mirroring"
                    ]
                },
                "outputPath": {
                    "type": "string",
                    "description": "Base path for documentation output (relative to project root)",
                    "default": "./docs",
                    "examples": ["./docs", "./documentation", "./api-docs"]
                },
                "fileNaming": {
                    "type": "string",
                    "enum": ["match-source", "kebab-case", "snake_case"],
                    "description": "How to name documentation files",
                    "default": "match-source"
                },
                "createSubfolders": {
                    "type": "boolean",
                    "description": "Whether to mirror source folder structure in output",
                    "default": true
                },
                "fileExtension": {
                    "type": "string",
                    "description": "File extension for generated documentation",
                    "default": ".md",
                    "enum": [".md", ".mdx"]
                }
            },
            "additionalProperties": false
        },
        "templates": {
            "type": "object",
            "description": "Template selection settings",
            "properties": {
                "default": {
                    "type": "string",
                    "description": "Default template name to use when no override matches",
                    "default": "comprehensive",
                    "examples": ["comprehensive", "minimal", "standard", "lean_baseline"]
                },
                "overrides": {
                    "type": "object",
                    "description": "Map of file glob patterns to template names",
                    "additionalProperties": {
                        "type": "string"
                    },
                    "examples": [
                        {
                            "*.cs": "comprehensive_service_template",
                            "*.tsx": "ui_component_template",
                            "*.sql": "table_doc_template",
                            "*Controller.cs": "api_controller_template"
                        }
                    ]
                }
            },
            "additionalProperties": false
        },
        "validation": {
            "type": "object",
            "description": "Documentation validation settings",
            "properties": {
                "minimumScore": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 100,
                    "description": "Minimum validation score (percentage) to pass",
                    "default": 80
                },
                "requiredSections": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Additional required sections beyond charter defaults",
                    "default": [],
                    "examples": [["## Security Considerations", "## Performance Notes"]]
                },
                "strictMode": {
                    "type": "boolean",
                    "description": "If true, all charter sections are required; if false, allows partial compliance",
                    "default": false
                }
            },
            "additionalProperties": false
        },
        "sourcePaths": {
            "type": "object",
            "description": "Source code location hints for documentation discovery",
            "properties": {
                "include": {
                    "type": "array",
                    "items": { "type": "string" },
                    "description": "Glob patterns for source files to document",
                    "default": ["src/**/*.cs", "src/**/*.ts", "src/**/*.tsx"],
                    "examples": [["src/**/*.cs", "lib/**/*.ts"]]
                },
                "exclude": {
                    "type": "array",
                    "items": { "type": "string" },
                    "description": "Glob patterns to exclude from documentation",
                    "default": ["**/node_modules/**", "**/bin/**", "**/obj/**", "**/*.test.*", "**/*.spec.*"],
                    "examples": [["**/*.test.cs", "**/Migrations/**"]]
                }
            },
            "additionalProperties": false
        }
    },
    "required": ["projectName", "projectType"],
    "additionalProperties": false
}
